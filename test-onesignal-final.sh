#!/bin/bash

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "๐งช TESTE ONESIGNAL - LocalCashback"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# TESTE 1: CADASTRO
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo "1๏ธโฃ  TESTE: NOTIFICAรรO DE CADASTRO"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

curl -s -X POST http://localhost:3001/api/onesignal/notify-signup \
  -H "Content-Type: application/json" \
  -d '{
    "merchantId": "teste-merchant-123",
    "customerName": "Joรฃo Silva",
    "customerPhone": "11999999999"
  }' | jq '.'

echo ""
echo "๐ Notificaรงรฃo que seria exibida:"
echo "   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "   โ ๐ค Novo Cliente Cadastrado!         โ"
echo "   โ Joรฃo Silva acabou de se cadastrar   โ"
echo "   โ (11999999999). Bem-vindo!           โ"
echo "   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

sleep 2

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# TESTE 2: CASHBACK
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo ""
echo "2๏ธโฃ  TESTE: NOTIFICAรรO DE CASHBACK"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

curl -s -X POST http://localhost:3001/api/onesignal/notify-cashback \
  -H "Content-Type: application/json" \
  -d '{
    "merchantId": "teste-merchant-123",
    "customerName": "Joรฃo Silva",
    "cashbackAmount": 25.00
  }' | jq '.'

echo ""
echo "๐ Notificaรงรฃo que seria exibida:"
echo "   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "   โ ๐ฐ Cashback Creditado!              โ"
echo "   โ Joรฃo Silva ganhou R$ 25.00 de       โ"
echo "   โ cashback! ๐                        โ"
echo "   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

sleep 2

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# TESTE 3: RESGATE
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo ""
echo "3๏ธโฃ  TESTE: NOTIFICAรรO DE RESGATE"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

curl -s -X POST http://localhost:3001/api/onesignal/notify-redemption \
  -H "Content-Type: application/json" \
  -d '{
    "merchantId": "teste-merchant-123",
    "customerName": "Joรฃo Silva",
    "redemptionAmount": 50.00
  }' | jq '.'

echo ""
echo "๐ Notificaรงรฃo que seria exibida:"
echo "   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "   โ โ Resgate Solicitado!              โ"
echo "   โ Joรฃo Silva solicitou resgate de     โ"
echo "   โ R$ 50.00. Aguardando aprovaรงรฃo...   โ"
echo "   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

echo ""
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "โ TESTE CONCLUรDO!"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
